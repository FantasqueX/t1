From 4ab2c4b04bc5331076d3a72da44128efe73905ee Mon Sep 17 00:00:00 2001
From: Letu Ren <fantasquex@gmail.com>
Date: Wed, 26 Mar 2025 18:06:18 +0800
Subject: [PATCH] Do not unconditionally build runtime demo

Signed-off-by: Letu Ren <fantasquex@gmail.com>
---
 runtime/src/iree/runtime/CMakeLists.txt | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/runtime/src/iree/runtime/CMakeLists.txt b/runtime/src/iree/runtime/CMakeLists.txt
index cd37fdf349..50cd4148e8 100644
--- a/runtime/src/iree/runtime/CMakeLists.txt
+++ b/runtime/src/iree/runtime/CMakeLists.txt
@@ -8,7 +8,9 @@
 # To disable autogeneration for this file entirely, delete this header.        #
 ################################################################################

-iree_add_all_subdirs()
+if(IREE_BUILD_SAMPLES)
+  add_subdirectory(demo)
+endif()

 iree_cc_library(
   NAME
-- 
2.49.0
